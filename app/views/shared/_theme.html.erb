<script type="text/javascript"><!--
'use strict';
$(() => {

  const themeDialog = () => {
    const trTd = (s) => `<tr><td>${s}</td></tr>`;
    let html = '';
    html += '<table>';
    html += trTd(cd.darkThemeButtonHtml());
    html += trTd(cd.darkColourThemeButtonHtml());
    html += trTd(cd.lightThemeButtonHtml());
    html += trTd(cd.lightColourThemeButtonHtml());
    html += '</table>';
    html += '</div>';

    $('<div id="theme-dialog">')
      .html(html)
      .dialog({
        width: '110',        
        closeOnEscape: true,
        autoOpen: true,
        modal: true,
        title: cd.dialogTitle('theme?'),
        buttons: {
          close: function() {
            $(this).remove();
            cd.editorRefocus();
          }
        },
        beforeClose: function(event) {
          if (event.keyCode === $.ui.keyCode.ESCAPE) {
            $(this).remove();
            cd.editorRefocus();
            return true;
          }
        }
      });
  };

  const themeButton = $('#theme-button');

  if (window.location.href.indexOf('kata/edit') !== -1) {
    themeButton.show().click(() => themeDialog());
  } else {
    themeButton.hide();
  }

});
//--></script>

<button type="button" id="theme-button">theme?</button>
