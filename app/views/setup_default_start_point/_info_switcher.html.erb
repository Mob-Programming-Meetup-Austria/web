<script type="text/javascript"><!--
'use strict';
$(() => {

  const languageInfoContainer = $('#language-info-container');
  const exerciseInfoContainer = $('#exercise-info-container');

  let previousLanguage = undefined;
  let selectedLanguage = $('#language_' + '<%= @language_index %>');

  let previousExercise = undefined;
  let selectedExercise = $('#exercise_' + '<%= @exercise_index %>');

  $('[id^=language_]').each(function() {
    const language = $(this);
    language.click(() => {
      cd.radioEntrySwitch(previousLanguage, language);
      previousLanguage = language;
      exerciseInfoContainer.hide();
      languageInfoContainer.show();
    });
  });

  $('[id^=exercise_]').each(function() {
     const exercise = $(this);
     exercise.click(() => {
       const index = exercise.data('index');
       const instructions = $('#instructions_' + index).val();
       languageInfoContainer.hide();
       exerciseInfoContainer.show().val(instructions);
       cd.radioEntrySwitch(previousExercise, exercise);
       previousExercise = exercise;
     });
   });

  selectedLanguage.click();
  selectedLanguage.scrollIntoView({ direction: 'vertical' });

  selectedExercise.click();
  selectedExercise.scrollIntoView({ direction: 'vertical' });

});
//--></script>
