<div id="starting-info">
  <table>
    <tr><td><%= render partial: 'traffic_light_bulb_info' %></td></tr>
    <tr><td><%= render partial: 'traffic_light_click_info' %></td></tr>
    <tr><td><%= render partial: 'please_blurb' %></td></tr>
  </table>
</div>

<script type="text/javascript">
'use strict';
$(() => {

  cd.showStartingInfoDialog = (onOff) => {
    if (cd.trafficLightsCount() === 0 && onOff !== 'off') {
      const node = $('#starting-info');
      node.dialog({
                width: 420,
             autoOpen: true,
        closeOnEscape: true,
                modal: true,
                title: cd.dialogTitle('welcome'),
              buttons: { close: () => {
                  node.remove();
                }
              },
          beforeClose: event => {
            if (event.keyCode === $.ui.keyCode.ESCAPE) {
              node.remove();
              return true;
            }
          }
      });
    }
  };

});
</script>
